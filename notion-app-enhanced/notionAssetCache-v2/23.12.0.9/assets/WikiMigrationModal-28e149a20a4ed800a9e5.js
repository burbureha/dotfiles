"use strict";(self.webpackChunknotion_next=self.webpackChunknotion_next||[]).push([[8078],{90517:(t,e,i)=>{i.r(e),i.d(e,{WikiMigrationModal:()=>P});var o=i(77094),n=i.n(o),a=i(67294),s=i(480),l=i(16489),r=i(41892),d=i(5366),u=i(50906),c=i(30149),g=i(29919),h=i(24405),m=i(34859),b=i(45589),p=i(61519),w=i(36488),k=i(22346),f=i(18647);function y(t){let{imageUrl:e,isActive:i}=t;const o=(0,h.yK)((t=>({container:{flexGrow:1,justifySelf:"flex-end",display:"flex",flexDirection:"column",justifyContent:"flex-end",height:i?"100%":void 0},image:{width:450,display:i?void 0:"none",borderRadius:6}})),[i]);return n()("div",{style:o.container},void 0,n()("img",{style:o.image,src:e}))}var x=i(82990),v=i(64921);function M(t){let{title:e,subtitle:i,icon:o,isActive:a,onClick:s}=t;const l=(0,h.yK)((t=>{const e="dark"===t.mode?t.cardHoveredBackground:t.cardContentBackground;return{container:{display:"flex",alignItems:"flex-start",borderRadius:6,padding:15,paddingRight:24,marginBottom:8,transition:"all .2s ease",width:"100%",...a&&{background:e,boxShadow:t.largeLightBoxShadow}},containerHover:{background:a?e:t.buttonHoveredBackground},textContainer:{marginLeft:9},icon:{width:42,height:42,...!a&&{fill:t.mediumIconColor},...a&&{fill:t.teamAccessLevelIcons.blue}},title:{minHeight:42,display:"flex",alignItems:"center",fontSize:14,fontWeight:x.Z.fontWeight.semibold,lineHeight:1.2},subtitle:{fontSize:12,color:t.mediumTextColor,fontWeight:x.Z.fontWeight.regular,marginTop:4}}}),[a]);return n()(v.Z,{style:l.container,hoveredStyle:l.containerHover,onClick:s},void 0,o(l.icon),n()("div",{style:l.textContainer},void 0,n()("div",{style:l.title},void 0,e),a&&n()("div",{style:l.subtitle},void 0,i)))}function C(t){let{tabOptions:e,onTabClick:i,currentTabIndex:o,style:a}=t;const s=(0,h.Fg)(),l=(0,h.yK)((()=>({content:{display:"flex",flexDirection:"row",...a},tabButtons:{flexShrink:0,alignSelf:"flex-end",width:272,display:"flex",minHeight:325,alignItems:"center",flexDirection:"column",marginBottom:32},tabPanels:{paddingLeft:32}})),[a]);return n()("div",{style:l.content},void 0,n()("div",{style:l.tabButtons},void 0,e.map(((t,e)=>{let{title:a,subtitle:s,icon:l}=t;return n()(M,{title:a,subtitle:s,onClick:()=>i(e),icon:l,isActive:o===e},e)}))),n()("div",{style:l.tabPanels},void 0,e.map(((t,e)=>{let{imageUrl:i}=t;return n()(y,{imageUrl:i(s),isActive:o===e},e)}))))}var B=i(42922),T=i(89728);function I(t){let{onNextClick:e,currentTabIndex:i,numTabOptions:o,learnMoreLink:a,doneButtonProps:s,secondaryButtonProps:l}=t;const r=(0,h.yK)((t=>({blueButton:{height:32,minWidth:94},container:{display:"flex",margin:20,alignItems:"center",justifyContent:"space-between"},secondaryButton:{color:t.mediumTextColor,marginRight:18}})),[]),u=i===o-1,c=u?n()(B.Z,{style:r.blueButton,onClick:s.onClick},void 0,s.buttonText):n()(B.Z,{style:r.blueButton,onClick:e},void 0,n()(d.FormattedMessage,{defaultMessage:"Next",id:"educationModal.nextButtonCta",description:"Button text in the education modal that continues to the next tab of the education flow."}));return n()("div",{style:r.container},void 0,a,n()("div",{}),n()("div",{},void 0,l&&(l.showOnLastTab||!u)&&n()(T.Z,{style:r.secondaryButton,onClick:l.onClick},void 0,l.buttonText),c))}function Z(t){const e=(0,h.yK)((t=>({title:{textAlign:"center",fontSize:18,color:t.mediumTextColor},subtitle:{textAlign:"center",fontWeight:x.Z.fontWeight.bold,fontSize:28,margin:"0 auto",maxWidth:450}})),[]);return n()("div",{style:{marginTop:46}},void 0,t.title&&n()("div",{style:e.title},void 0,t.title),t.subtitle&&n()("div",{style:e.subtitle},void 0,t.subtitle))}function S(t){let{onNextClick:e,onDismiss:i,onTabClick:o,currentTabIndex:a,tabOptions:s,modalMinHeight:r,doneButtonProps:d,secondaryButtonProps:u,title:c,subtitle:g,learnMoreLink:y}=t;const x=(0,l.qz)(void 0,b.Z),v=(0,l.VK)((()=>0===x.state.scrollTop),[x]),M=(0,h.yK)((t=>{const e="calc(100vh - 100px)",i=`min(${e}, ${r})`;return{modalInner:{background:t.sidebarBackground,borderRadius:12,margin:50,overflow:"hidden",minHeight:i,maxHeight:e},contentContainer:{minHeight:i,maxHeight:e,display:"flex",flexDirection:"column"},tabContainer:{paddingTop:16,paddingLeft:32,flexGrow:1},scroller:{display:"flex",flexGrow:1,flexDirection:"column",justifyContent:"stretch"}}}),[r]);return n()(k.Z,{open:!0,innerStyle:M.modalInner,preventHideChildrenWhileOpening:!0,onDismiss:i,render:()=>n()(w.Z,{capture:!0,allowEsc:!0,render:()=>n()("div",{style:M.contentContainer},void 0,n()(Z,{title:c,subtitle:g}),!v&&n()(p.Z,{size:1}),n()(f.Z,{type:m.Z.Y,style:M.scroller,store:x},void 0,n()(C,{tabOptions:s,style:M.tabContainer,onTabClick:o,currentTabIndex:a})),n()(p.Z,{size:1}),n()(I,{onNextClick:e,doneButtonProps:d,numTabOptions:s.length,currentTabIndex:a,secondaryButtonProps:u,learnMoreLink:y}))})})}var H=i(59230);function P(t){let{}=t;const e=(0,s.O7)(),i=(0,a.useCallback)((()=>{H.Z.state.open&&H.Z.setState({open:!1})}),[]),o=(0,a.useCallback)((()=>{if(!H.Z.state.open)return;const t=H.Z.state.blocks;c.createAndCommit({userAction:"actionRegistry.turnIntoAction.wiki",environment:e,perform:i=>{g.Y({environment:e,blocks:t,transaction:i,source:"onboarding_modal"})}}),i()}),[e,i]),h=(0,a.useCallback)((()=>{u.trackCancelWikiOnboarding(e),i()}),[e,i]),m=(0,l.VK)((()=>H.Z.state.open?H.Z.state.tabIndex:0),[]),b=(0,a.useCallback)((t=>{H.Z.state.open&&H.Z.setState({...H.Z.state,tabIndex:t})}),[]),p=(0,a.useCallback)((t=>{b(t)}),[b]),w=(0,a.useCallback)((()=>{b(m+1)}),[b,m]),k=t=>r.Z.images.wikiMigrationModal[t],f=[{title:n()(d.FormattedMessage,{defaultMessage:"Get a bird eye's view",id:"wikiMigrationModal.tabButton.overview.title",description:"In the wiki migration modal, this is a tab button title that explains how the new wiki product lets you view all your wiki pages easily."}),subtitle:n()(d.FormattedMessage,{defaultMessage:"Create a knowledge base to track all your pages in one spot.",id:"wikiMigrationModal.tabButton.overview.subtitle",description:"In the wiki migration modal, this is a tab button subtitle that explains how the new wiki product lets you view all your wiki pages easily."}),imageUrl:()=>k("overviewPng"),icon:()=>n()(F,{icon:"ðŸ“"})},{title:n()(d.FormattedMessage,{defaultMessage:"No more outdated content",id:"wikiMigrationModal.tabButton.upToDate.title",description:"In the wiki migration modal, this is a tab button title that explains how the new wiki product lets you check which pages are out of date and which are updated."}),subtitle:n()(d.FormattedMessage,{defaultMessage:"See when pages were last edited so you know your whole team is getting the freshest information.",id:"wikiMigrationModal.tabButton.upToDate.subtitle",description:"In the wiki migration modal, this is a tab button subtitle that explains how the new wiki product lets you check which pages are out of date and which are updated."}),imageUrl:()=>k("upToDatePng"),icon:()=>n()(F,{icon:"ðŸª´"})},{title:n()(d.FormattedMessage,{defaultMessage:"Talk to the right person",id:"wikiMigrationModal.tabButton.owner.title",description:"In the wiki migration modal, this is a tab button title that explains how the new wiki product lets you see the page owner/creator."}),subtitle:n()(d.FormattedMessage,{defaultMessage:"Easily view a pageâ€™s owner right from your knowledge base.",id:"wikiMigrationModal.tabButton.owner.subtitle",description:"In the wiki migration modal, this is a tab button subtitle that explains how the new wiki product lets you see the page owner/creator."}),imageUrl:()=>k("ownersPng"),icon:()=>n()(F,{icon:"ðŸ™Œ"})},{title:n()(d.FormattedMessage,{defaultMessage:"Add helpful context",id:"wikiMigrationModal.tabButton.tags.title",description:"In the wiki migration modal, this is a tab button title that explains how the new wiki product lets you organize and filter through your pages using tags."}),subtitle:n()(d.FormattedMessage,{defaultMessage:"Sort, filter or tag your pages so they're always easy to access.",id:"wikiMigrationModal.tabButton.tags.subtitle",description:"In the wiki migration modal, this is a tab button subtitle that explains how the new wiki product lets you organize and filter through your pages using tags."}),imageUrl:()=>k("tagsPng"),icon:()=>n()(F,{icon:"ðŸ’¡"})}];return n()(S,{subtitle:n()(d.FormattedMessage,{id:"wikiMigrationModal.title",description:"Title for the wiki migration modal explaining what is new with the database-powered wiki",defaultMessage:"A more powerful knowledge base"}),onNextClick:w,onDismiss:h,currentTabIndex:m,tabOptions:f,onTabClick:p,modalMinHeight:"650px",doneButtonProps:{onClick:o,buttonText:n()(d.FormattedMessage,{defaultMessage:"Create knowledge base",id:"wikiMigrationModal.migrateMessage",description:"Button text in the wiki migration modal that closes the modal and completes the migration."})},secondaryButtonProps:{onClick:h,buttonText:n()(d.FormattedMessage,{defaultMessage:"Cancel",id:"wikiMigrationModal.cancelMessage",description:"Button text in the wiki migration modal that closes the modal and cancels the migration."}),showOnLastTab:!0}})}function F(t){return n()("div",{style:{fontSize:30,marginRight:9,marginTop:12}},void 0,t.icon)}}}]);