"use strict";(self.webpackChunknotion_next=self.webpackChunknotion_next||[]).push([[9765],{26351:(e,i,t)=>{t.r(i),t.d(i,{InjectThirdPartyScripts:()=>E,useThirdPartyScripts:()=>v});var s=t(96486),n=t.n(s),r=t(67294),o=t(13991),d=t(480),a=t(16489),u=t(7250),c=t(66673),p=t(65454);var l=t(95477),g=t(58455),m=t(79315),f=t(61893),w=t(10161),I=t(3418),S=t(69454);function v(){const e=(0,d.O7)(),i=(0,d.Fy)(),{currentUser:t}=e,{isEnabled:s,spaceId:v,userEmail:E}=(0,a.VK)((()=>{var e,t;return{isEnabled:g.default.state.isSprigEnabled&&f.Z.state.permission.performance&&w.default.checkGate("sprig")&&i.isDesktop,spaceId:null===(e=m.default.state.currentSpaceStore)||void 0===e?void 0:e.id,userEmail:null===(t=m.default.state.currentUserStore)||void 0===t?void 0:t.getEmail()}}),[i]);!function(e){let{isEnabled:i,isLoggedIn:t,userId:s,userEmail:n,spaceId:o,sprigConfig:d}=e;(0,r.useEffect)((()=>{if(!i||!t||void 0===s||void 0===n||void 0===o||void 0===d)return;if(window.Sprig)return;const e=function(){e._queue.push(arguments)};e._queue=[],e.appId=d.environmentId,window.Sprig=e,window.UserLeap=e,window.Sprig("setUserId",s),window.Sprig("setEmail",n),window.Sprig("setAttribute","SPACE_ID",o),(0,p.Z)("https://cdn.sprig.com/shim.js")}),[i,t,s,d,n,o]);const a=(0,c.D9)(t);(0,r.useEffect)((()=>{a&&!t&&window.Sprig&&window.Sprig("logoutUser")}),[a,t])}({isEnabled:s,isLoggedIn:t.isLoggedIn(),userId:t.id,spaceId:v,userEmail:E,sprigConfig:l.Z.sprig}),(0,u.oG)({getLocale:(0,r.useCallback)((()=>o.SP),[]),analyticsSettings:(0,a.VK)((()=>n().pick(g.default.state,["isIntercomEnabled","intercomAppId","intercomUserHash","noIntercomUserId","user_id","user_email"])),[]),onVisibilityChange:(0,r.useCallback)((i=>{S.Z.updateShouldResizeWebview(e,i,"v1"),i?I.Z.addNamedPopup("intercom"):I.Z.removeNamedPopup("intercom")}),[e])})}function E(){return v(),null}}}]);